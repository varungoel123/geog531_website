{
  "hash": "f61bc1a66e9ae4e8ad3cfbec884000ff",
  "result": {
    "markdown": "---\ntitle: 'Basic GIS Operations: Select, Field Calculator, Load Layer from web source'\nauthor:\n- In Class Demonstration \\#6 \\newline\n- GEOG 541, GIS and Public Health \\newline\n- Paul Delamater\noutput:\n  html_document:\n    theme: flatly\n    highlight: tango\n    mathjax: null\n---\n\n::: {.cell}\n<style type=\"text/css\">\na {\n  color: royalblue;\n}\n\na:hover {\n  color: darkorange;\n}\n\ndiv.highlightblock { \n background-color: #e0f0ff; \n padding: 10px 10px 3px 10px;\n}\n</style>\n:::\n\n\n\n\n------------------------------------------------------------------------\n\nThis demonstration focuses on selecting features via queries in QGIS, calculating new fields, and highlighting some oft-encountered issues in a GIS-based analysis.\n\nIf you want to follow along, the data are located on the course Canvas page (GEOG541_demo6_data.zip).\n\n**Note that throughout this document, if I use the term \"right click,\" this means \"control click\" for Mac users!**\n\n------------------------------------------------------------------------\n\n### Preparation (field types of .csv files)\n\n1.  Start a new project in QGIS and add Tracts_CB_500k_2010_NC.gpkg to the Layers panel. Change the CRS to EPSG:32119, `NAD83 / North Carolina`.\n\n2.  Using the Browser panel in QGIS, drag PLACES_2023_tract_NC.csv to the Layers panel. Open the attribute table and view the data.\n\n3.  Open the Properties of PLACES_2023_tract_NC.csv by right-clicking on it in the Layers panel. In the Layer Properties window, navigate to Fields (on the left). What do you notice about the `Type`? Does this make sense given what you saw in the attribute table?\n\n4.  Close the Layer Properties window and the attribute table. Remove PLACES_2023_tract_NC.csv from the Layers Panel.\n\n5.  Open the Data Source Manager. In the pop up window, on the left, choose Delimited Text. Choose PLACES_2023_tract_NC.csv for the File name. Click the arrow next to Record and Fields Options to expand the content. Make sure that **Detect field types** is selected! In the Sample Data area (at the bottom), make sure that all fields that should be `Decimal (double)` are tagged as this type. In the Geometry Definition area, make sure the \\*\\*No geometry\\* is selected. Click Add.\n\n6.  Open the Properties of PLACES_2023_tract_NC.csv and navigate to Fields (on the left) to confirm that the fields now have the correct data type. Close the Properties window.\n\n------------------------------------------------------------------------\n\n### Basic Attribute Query\n\nIn this section, we will perform a simple select by attributes operation by selecting features from the tracts layer based on the value in the `CENSUSAREA` field.\n\n7.  Open the attribute table of Tracts_CB_500k_2010_NC. Click the button to Select features using an expression to open the Select by Expression window.\n\n8.  Build the following query in the expression area (via typing, copy/paste, or graphically), which will select all tracts having a value greater than 100 in the CENSUSAREA field:\n\n    `\"CENSUSAREA\" > 100`\n\n9.  Click the Select Features button. You should notice that some features are highlighted in both the attribute table (in blue) and on the map (in yellow). Note on the map, these are all the largest tracts (which should make sense given the query).\n\n10. Test the following selection-related operations:\n\n    -   Invert selection\n    -   Zoom to selection\n    -   Display only selected features (bottow left of attribute table)\n    -   Deselect features\n\n11. Show page properties and create custom page size to fit North Carolina's shape.\n\n12. Align (center) the map frame to the page.\n\n### Border Transparency and Width\n\n11. Set border transparency for tracts layer (roughly 22%).\n\n12. Set up symbology for counties and states layers using fill color, as well as border width and transparency.\n\n### Legend\n\n13. Add legend to map layout.\n\n14. Remove unnecessary items from legend. Change name of layer.\n\n15. Change precision of values (trim) in Layers Panel.\n\n16. Change font size of layer name.\n\n17. Change spacing of items to edge of legend.\n\n18. Add neatline to legend.\n\n### Other Map Elements\n\n18. Add Title, North Arrow, and Scale Bar.\n\n### Export\n\n19. Export as image.\n\n20. Export as pdf.\n\n------------------------------------------------------------------------\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}